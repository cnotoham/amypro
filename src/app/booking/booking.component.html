<div class="content">
  <div>
    <h2>Booking Application Form</h2>
  </div>
  <div>
    <form role="form" novalidate (ngSubmit)="onSubmit()" [formGroup]="bookingForm">
      <fieldset>
        <legend>Personal Details</legend>
        <div class="field-group">
          <label for="nameId">Name</label>
          <input type="text"
               class="input"
               id="nameId"
               formControlName="name"
               placeholder="Enter name (required)"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('name').touched ||
                                                    bookingForm.get('name').dirty) &&
                                                    bookingForm.get('name').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('name').touched ||
                      bookingForm.get('name').dirty) &&
                      bookingForm.get('name').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="ageId">Age</label>
          <input type="input"
               class="input"
               id="ageId"
               formControlName="age"
               placeholder="Enter age"
               maxlength="2"/>
        </div>
        <div class="field-group">
          <fieldset>
            <label>Gender</label>
            <div>
              <input id="maleId" type="radio" value="male" formControlName="gender" />
              <label for="maleId"> Male</label>
            </div>
            <div>
              <input id="femaleId" type="radio" value="female" formControlName="gender" />
              <label for="femaleId"> Female</label>
            </div>
          </fieldset>
        </div>
        <div class="field-group">
          <label for="addressId">Address</label>
          <input type="text"
               class="input"
               id="addressId"
               formControlName="address"
               placeholder="Enter address (required)"
               maxlength="50"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('address').touched ||
                                                    bookingForm.get('address').dirty) &&
                                                    bookingForm.get('address').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('address').touched ||
                      bookingForm.get('address').dirty) &&
                      bookingForm.get('address').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="suburbId">Suburb/City</label>
          <input type="text"
               class="input"
               id="suburbId"
               formControlName="suburb"
               placeholder="Enter suburb/city (required)"
               maxlength="100"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('suburb').touched ||
                                                    bookingForm.get('suburb').dirty) &&
                                                    bookingForm.get('suburb').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('suburb').touched ||
                      bookingForm.get('suburb').dirty) &&
                      bookingForm.get('suburb').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="stateId">State</label>
          <input type="text"
               class="input"
               id="stateId"
               formControlName="state"
               placeholder="Enter state (required)"
               maxlength="100"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('state').touched ||
                                                    bookingForm.get('state').dirty) &&
                                                    bookingForm.get('state').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('state').touched ||
                      bookingForm.get('state').dirty) &&
                      bookingForm.get('state').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="postcodeId">Postcode</label>
          <input type="text"
               class="input"
               id="postcodeId"
               formControlName="postcode"
               placeholder="Enter postcode"
               maxlength="30"/>
        </div>
        <div class="field-group">
          <label for="countryId">Country</label>
          <input type="text"
               class="input"
               id="countryId"
               formControlName="country"
               placeholder="Enter country (required)"
               maxlength="50"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('country').touched ||
                                                    bookingForm.get('country').dirty) &&
                                                    bookingForm.get('country').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('country').touched ||
                      bookingForm.get('country').dirty) &&
                      bookingForm.get('country').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="phoneId">Phone/Mobile</label>
          <input type="tel"
               class="input"
               id="phoneId"
               formControlName="phone"
               placeholder="Enter phone/mobile"
               maxlength="50"/>
        </div>
        <div class="field-group">
          <label for="emailId">Email</label>
          <input type="email"
              class="input"
              id="emailId"
              formControlName="email"
              placeholder="Enter email (required)"
              maxlength="50"
              [ngClass]="{'form__text--invalid' : (bookingForm.get('email').touched ||
                                          bookingForm.get('email').dirty) &&
                                          bookingForm.get('email').invalid }"
              required />
          <div class="prompt" *ngIf="(bookingForm.get('email').touched ||
                      bookingForm.get('email').dirty) &&
                      bookingForm.get('email').errors?.required">
            Please fill out this field
          </div>
          <div class="prompt" *ngIf="(bookingForm.get('email').touched ||
                      bookingForm.get('email').dirty) &&
                      bookingForm.get('email').errors?.email">
            Please enter a valid email
          </div>
        </div>
      </fieldset>
      <fieldset>
        <legend>Preferred location / Building</legend>
        <div class="field-group">
          <fieldset>
            <label>Location</label>
            <div>
              <input id="dandenongId" type="radio" value="dandenong" formControlName="location" />
              <label for="dandenongId"> Dandenong Townhouses</label>
            </div>
            <div>
              <input id="blackburnId" type="radio" value="blackburn" formControlName="location" />
              <label for="blackburnId"> Blackburn Townhouses</label>
            </div>
          </fieldset>
        </div>
      </fieldset>
      <fieldset>
        <legend>Reference Details</legend>
        <div class="field-group">
          <label for="refNameId">Name</label>
          <input type="text"
                 class="input"
                 id="refNameId"
                 formControlName="refName"
                 placeholder="Enter name (required)"
                 [ngClass]="{'form__text--invalid' : (bookingForm.get('refName').touched ||
                                                      bookingForm.get('refName').dirty) &&
                                                      bookingForm.get('refName').invalid }"
                 required />
          <div class="prompt" *ngIf="(bookingForm.get('refName').touched ||
                                      bookingForm.get('refName').dirty) &&
                                      bookingForm.get('refName').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="refAddressId">Address</label>
          <input type="text"
               class="input"
               id="refAddressId"
               formControlName="refAddress"
               placeholder="Enter address (required)"
               maxlength="50"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('refAddress').touched ||
                                                    bookingForm.get('refAddress').dirty) &&
                                                    bookingForm.get('refAddress').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('refAddress').touched ||
                                      bookingForm.get('refAddress').dirty) &&
                                      bookingForm.get('refAddress').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="refSuburbId">Suburb/City</label>
          <input type="text"
               class="input"
               id="refSuburbId"
               formControlName="refSuburb"
               placeholder="Enter suburb/city (required)"
               maxlength="100"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('refSuburb').touched ||
                                                    bookingForm.get('refSuburb').dirty) &&
                                                    bookingForm.get('refSuburb').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('refSuburb').touched ||
                                      bookingForm.get('refSuburb').dirty) &&
                                      bookingForm.get('refSuburb').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="refStateId">State</label>
          <input type="text"
               class="input"
               id="refStateId"
               formControlName="refState"
               placeholder="Enter state (required)"
               maxlength="100"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('refState').touched ||
                                                    bookingForm.get('refState').dirty) &&
                                                    bookingForm.get('refState').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('refState').touched ||
                                      bookingForm.get('refState').dirty) &&
                                      bookingForm.get('refState').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="refPostcodeId">Postcode</label>
          <input type="text"
               class="input"
               id="refPostcodeId"
               formControlName="refPostcode"
               placeholder="Enter postcode"
               maxlength="30"/>
        </div>
        <div class="field-group">
          <label for="refCountryId">Country</label>
          <input type="text"
               class="input"
               id="refCountryId"
               formControlName="refCountry"
               placeholder="Enter country (required)"
               maxlength="50"
               [ngClass]="{'form__text--invalid' : (bookingForm.get('refCountry').touched ||
                                                    bookingForm.get('refCountry').dirty) &&
                                                    bookingForm.get('refCountry').invalid }"
               required />
          <div class="prompt" *ngIf="(bookingForm.get('refCountry').touched ||
                                      bookingForm.get('refCountry').dirty) &&
                                      bookingForm.get('refCountry').errors?.required">
            Please fill out this field
          </div>
        </div>
        <div class="field-group">
          <label for="refPhoneId">Phone/Mobile</label>
          <input type="tel"
               class="input"
               id="refPhoneId"
               formControlName="refPhone"
               placeholder="Enter phone/mobile"
               maxlength="50"/>
        </div>
        <div class="field-group">
          <label for="refEmailId">Email</label>
          <input type="email"
              class="input"
              id="refEmailId"
              formControlName="refEmail"
              placeholder="Enter email (required)"
              maxlength="50"
              [ngClass]="{'form__text--invalid' : (bookingForm.get('refEmail').touched ||
                                                   bookingForm.get('refEmail').dirty) &&
                                                   bookingForm.get('refEmail').invalid }"
              required />
          <div class="prompt" *ngIf="(bookingForm.get('refEmail').touched ||
                                      bookingForm.get('refEmail').dirty) &&
                                      bookingForm.get('refEmail').errors?.required">
            Please fill out this field
          </div>
          <div class="prompt" *ngIf="(bookingForm.get('refEmail').touched ||
                                      bookingForm.get('refEmail').dirty) &&
                                      bookingForm.get('refEmail').errors?.email">
            Please enter a valid email
          </div>
        </div>
      </fieldset>
      <fieldset>
        <legend>Additional Comments</legend>
        <div class="field-group">
          <label for="commentId">Any further information/enquiries/questions</label>
          <textarea class="input"
                    formControlName="comment"
                    id="commentId"
                    cols="60"
                    rows="5"></textarea>
        </div>
      </fieldset>
      <div class="field-group">
        <button type="submit" class="btn--disabled" mat-raised-button [disabled]="bookingForm.invalid">
          Send Email  <ng-container *ngIf="isLoading"><mat-icon><mat-spinner color="accent" diameter="20"></mat-spinner></mat-icon></ng-container>
        </button>
      </div>
    </form>
  </div>
  <div *ngIf="showPrompt">
    <p>Thank you for your enquiry. We will contact you soon.</p>
  </div>
  <div *ngIf="showError">
    <p>We are currently having a technical issue in sending your email. Please try again later. We apologise for the inconvenience.</p>
  </div>
</div>
